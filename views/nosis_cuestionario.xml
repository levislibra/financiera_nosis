<openerp>
  <data>

		<!-- Cuestionario -->

		<record id="nosis_cuestionario_tree"  model="ir.ui.view">
			<field name="name">financiera.nosis.cuestionario.tree</field>
			<field name="model">financiera.nosis.cuestionario</field>
			<field name="arch" type="xml">
				<tree>
					<field name="create_date" string="Fecha"/>
					<field name="partner_id"/>
					<field name="id_consulta"/>
					<field name="pregunta_ids" options="{'reload_on_button': true}"/>
					<field name="porcentaje"/>
					<field name="state"/>
				</tree>
			</field>
		</record>


		<record id="nosis_cuestionario_form"  model="ir.ui.view">
			<field name="name">financiera.nosis.cuestionario.form</field>
			<field name="model">financiera.nosis.cuestionario</field>
			<field name="arch" type="xml">
				<form>
					<header>
						<button string="Siguiente pregunta" name="button_wizard_siguiente_pregunta" states='pendiente' type="object" class="oe_highlight"/>
						<button string="Evaluar" name="button_evaluar_cuestionario_nosis" states='pendiente' type="object" class="oe_highlight"/>
						<!-- <button string="Test Print dict" name="button_get_cuestionario_to_dict" type="object" class="oe_highlight"/> -->
						<field name="state" widget="statusbar"/>
					</header>
					<sheet>
						<group>
							<field name="create_date" string="Fecha"/>
							<field name="partner_id" readonly="1"/>
							<field name="name" readonly="1"/>
							<!-- <field name="respuestas_test"/> -->
							<field name="id_consulta" invisible="1"/>
							<field name="pregunta_ids" options="{'reload_on_button': true}" states='aprobado,rechazado' readonly="1"/>
							<field name="cuestionario"/>
							<label string="Porcetaje de respuesta correctas" states='aprobado,rechazado'/>
							<h1 states='aprobado,rechazado'><field name="porcentaje" readonly="1"/></h1>
						</group>
					</sheet>
				</form>
			</field>
		</record>

		<record model="ir.actions.act_window" id="nosis_cuestionario_action">
      <field name="name">Vid</field>
      <field name="res_model">financiera.nosis.cuestionario</field>
      <field name="view_mode">tree,form</field>
      <field name="view_id" ref="nosis_cuestionario_tree"/>
    </record>

		<menuitem name="Nosis Vid" id="menu_nosis_vid" sequence="18" parent="menu_nosis"/>
    <menuitem name="Vid" id="menu_nosis_vid_action" sequence="1" parent="menu_nosis_vid" action="nosis_cuestionario_action"/>

		<!-- En Onboarding -->
		<menuitem name="Nosis Vid" id="menu_nosis_vid_onboarding" sequence="18" parent="financiera_app.menu_app_onboarding" groups="financiera_nosis.user"/>
    <menuitem name="Vid" id="menu_nosis_vid_action_onboarding" sequence="1" parent="menu_nosis_vid_onboarding" action="nosis_cuestionario_action"/>


		<!-- Pregunta -->

		<record id="nosis_cuestionario_pregunta_tree"  model="ir.ui.view">
			<field name="name">financiera.nosis.cuestionario.pregunta.tree</field>
			<field name="model">financiera.nosis.cuestionario.pregunta</field>
			<field name="arch" type="xml">
				<tree>
					<field name="id_pregunta"/>
					<field name="texto"/>
					<field name="id_respuesta"/>
					<field name="opcion_ids" options="{'reload_on_button': true}"/>
				</tree>
			</field>
		</record>


		<record id="nosis_cuestionario_pregunta_form"  model="ir.ui.view">
			<field name="name">financiera.nosis.cuestionario.pregunta.form</field>
			<field name="model">financiera.nosis.cuestionario.pregunta</field>
			<field name="arch" type="xml">
				<form>
					<sheet>
						<group>
							<field name="texto"/>
							<field name="opcion_ids" options="{'reload_on_button': true}"/>
						</group>
					</sheet>
				</form>
			</field>
		</record>

		<record model="ir.actions.act_window" id="nosis_cuestionario_pregunta_action">
      <field name="name">Pregunta</field>
      <field name="res_model">financiera.nosis.cuestionario.pregunta</field>
      <field name="view_mode">tree,form</field>
      <field name="view_id" ref="nosis_cuestionario_pregunta_tree"/>
    </record>

		<!-- Opciones -->

		<record id="nosis_cuestionario_pregunta_opcion_tree"  model="ir.ui.view">
			<field name="name">financiera.nosis.cuestionario.pregunta.opcion.tree</field>
			<field name="model">financiera.nosis.cuestionario.pregunta.opcion</field>
			<field name="arch" type="xml">
				<tree>
					<!-- <field name="id_opcion"/> -->
					<field name="texto"/>
					<field name="respuesta"/>
				</tree>
			</field>
		</record>


		<record id="nosis_cuestionario_pregunta_opcion_form"  model="ir.ui.view">
			<field name="name">financiera.nosis.cuestionario.pregunta.opcion.form</field>
			<field name="model">financiera.nosis.cuestionario.pregunta.opcion</field>
			<field name="arch" type="xml">
				<form>
					<sheet>
						<group col="1">
							<field name="texto"/>
							<field name="respuesta"/>
						</group>
					</sheet>
				</form>
			</field>
		</record>

  </data>
</openerp>